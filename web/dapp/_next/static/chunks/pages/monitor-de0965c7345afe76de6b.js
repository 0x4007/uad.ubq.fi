(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{4571:function(e,t,r){"use strict";r.d(t,{i:function(){return s},d:function(){return a}});var n=r(7616),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5;return(Math.round(+n.bM(e,"mwei")*t)/t).toString()},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5;return(Math.round(+n.dF(e)*t)/t).toString()}},6154:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(2809),s=r(6311),a=r(266),o=r(809),c=r.n(o),i=r(7616),u=r(7294),d=r(725),l=r(4358),f=r(4571),p=r(9753),x=r(5893),b=function(e){return(0,x.jsx)("a",{className:"mb-4 -mt-2 block break-words text-center text-xs !text-white/30",target:"_blank",title:e.title,href:"https://etherscan.io/address/".concat(e.address),children:e.address})},j=function(e){return(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsxs)("span",{className:"w-1/2 text-right",children:["1 ",(0,x.jsx)("span",{className:"text-white text-opacity-75",children:e.from})]}),(0,x.jsx)("span",{className:"-mt-1 w-8 text-center",children:"\u21c4"}),(0,x.jsxs)("span",{className:"w-1/2 flex-grow text-left",children:[e.value.toString()," ",(0,x.jsx)("span",{className:"text-white text-opacity-75",children:e.to})]})]})},O=function(e){return(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsx)("div",{className:"w-1/2 text-white/75",children:e.title}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"mr-2 text-white/75",children:e.unit}),e.balance]})]})};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v=function(){var e=(0,a.Z)(c().mark((function e(t,r){var n,o,u,l,p,x,b,j,O,m,v,h,g,w,P,D,y,A,C,N,_,k;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uad,o=t.metaPool,u=t.twapOracle,l=t.dollarMintCalc,p=r.curvePool,e.next=4,Promise.all([p.get_coin_indices(o.address,d.h1,d.AA),p.get_coin_indices(o.address,n.address,d.gn)]);case 4:return x=e.sent,b=(0,s.Z)(x,2),j=(0,s.Z)(b[0],2),O=j[0],m=j[1],v=(0,s.Z)(b[1],2),h=v[0],g=v[1],w=function(){var e=(0,a.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o["get_dy_underlying(int128,int128,uint256)"](t,r,i.fi("1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.next=15,Promise.all([w(O,m),w(h,g),w(h,O),w(h,m),u.consult(n.address),u.consult(d.NG)]);case 15:if(P=e.sent,D=(0,s.Z)(P,6),y=D[0],A=D[1],C=D[2],N=D[3],_=D[4],k=D[5],e.t0=o.address,e.t1=+(0,f.i)(y),e.t2=+(0,f.i)(A),e.t3=+(0,f.d)(C),e.t4=+(0,f.i)(N),e.t5=u.address,e.t6=+(0,f.d)(_),e.t7=+(0,f.d)(k),e.t8=l.address,!_.gt(i.fi("1"))){e.next=40;break}return e.t10=f.d,e.next=36,l.getDollarsToMint();case 36:e.t11=e.sent,e.t9=+(0,e.t10)(e.t11),e.next=41;break;case 40:e.t9=null;case 41:return e.t12=e.t9,e.abrupt("return",{metaPoolAddress:e.t0,daiUsdt:e.t1,uadUsdc:e.t2,uadDai:e.t3,uadUsdt:e.t4,twapAddress:e.t5,uadCrv:e.t6,crvUad:e.t7,dollarMintCalcAddress:e.t8,dollarToBeMinted:e.t12});case 43:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=function(e){return(0,x.jsxs)(p.W2,{children:[(0,x.jsx)(p.Dx,{text:"Price monitor"}),(0,x.jsx)(b,{title:"Metapool",address:e.metaPoolAddress}),(0,x.jsx)(j,{from:"DAI",to:"USDT",value:e.daiUsdt}),(0,x.jsx)(j,{from:"uAD",to:"USDC",value:e.uadUsdc}),(0,x.jsx)(j,{from:"uAD",to:"DAI",value:e.uadDai}),(0,x.jsx)(j,{from:"uAD",to:"USDT",value:e.uadUsdt}),(0,x.jsx)(p.DK,{text:"Time Weighted Average"}),(0,x.jsx)(b,{title:"TWAP Oracle",address:e.twapAddress}),(0,x.jsx)(j,{from:"uAD",to:"3CRV",value:e.uadCrv}),(0,x.jsx)(j,{from:"3CRV",to:"uAD",value:e.crvUad}),(0,x.jsx)(p.DK,{text:"Dollar Minting"}),(0,x.jsx)(b,{title:"Dollar Minting Calculator",address:e.dollarMintCalcAddress}),(0,x.jsx)("div",{className:"mt-4 text-center",children:e.dollarToBeMinted?(0,x.jsxs)("div",{children:[e.dollarToBeMinted," ",(0,x.jsx)("span",{className:"text-white text-opacity-75",children:" uAD"})," to be minted"]}):"No minting needed"})]})},g=function(){var e=(0,l.bE)(),t=(0,l.OE)(),r=(0,u.useState)(null),s=r[0],o=r[1];return(0,u.useEffect)((function(){e&&t&&(0,a.Z)(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=o,r.next=3,v(e,t);case 3:r.t1=r.sent,(0,r.t0)(r.t1);case 5:case"end":return r.stop()}}),r)})))()}),[e,t]),s&&(0,x.jsx)(h,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s))};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var P=function(e){return(0,x.jsxs)(p.W2,{children:[(0,x.jsx)(p.Dx,{text:"Metapool monitor"}),(0,x.jsx)(b,{title:"Metapool",address:e.metaPoolAddress}),(0,x.jsx)(O,{title:"uAD Balance",unit:"$",balance:e.uadBalance}),(0,x.jsx)(O,{title:"CRV Balance",unit:"$",balance:e.crvBalance}),(0,x.jsx)(O,{title:"Spot Price",unit:"$",balance:e.spotPrice})]})},D=function(){var e=((0,l.bE)()||{}).metaPool,t=((0,l.OE)()||{}).curvePool,r=(0,u.useState)(null),o=r[0],i=r[1];return(0,u.useEffect)((function(){e&&t&&(0,a.Z)(c().mark((function r(){var n,a,o,u,d;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([e.balances(0),e.balances(1),t.get_rates(e.address)]);case 2:n=r.sent,a=(0,s.Z)(n,3),o=a[0],u=a[1],d=a[2],i({metaPoolAddress:e.address,uadBalance:+(0,f.d)(o),crvBalance:+(0,f.d)(u),spotPrice:+(0,f.d)(d[1])});case 8:case"end":return r.stop()}}),r)})))()}),[e,t]),o&&(0,x.jsx)(P,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o))};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var A=function(e){return(0,x.jsxs)(p.W2,{className:"col-span-2",children:[(0,x.jsx)(p.Dx,{text:"Token monitor"}),(0,x.jsx)(p.DK,{text:"Debt Coupon"}),(0,x.jsx)(b,{title:"Debt Coupon Manager",address:e.debtCouponManagerAddress}),(0,x.jsx)(b,{title:"Debt Coupon",address:e.debtCouponAddress}),(0,x.jsx)(O,{title:"Total Outstanding",unit:"uCR-NFT",balance:e.totalOutstandingDebt}),(0,x.jsx)(O,{title:"Total Redeemable",unit:"uCR-NFT",balance:e.totalRedeemable})]})},C=function(){var e=((0,l.nT)()||{}).debtCouponManager,t=(0,l.bE)()||{},r=t.debtCouponToken,o=t.uad,i=(0,u.useState)(null),d=i[0],p=i[1];return(0,u.useEffect)((function(){e&&r&&o&&(0,a.Z)(c().mark((function t(){var n,a,i,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.getTotalOutstandingDebt(),o.balanceOf(e.address)]);case 2:n=t.sent,a=(0,s.Z)(n,2),i=a[0],u=a[1],p({debtCouponAddress:r.address,debtCouponManagerAddress:e.address,totalOutstandingDebt:+(0,f.d)(i),totalRedeemable:+(0,f.d)(u)});case 7:case"end":return t.stop()}}),t)})))()}),[e,r,o]),d&&(0,x.jsx)(A,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},d))},N=function(){return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"relative z-20 grid grid-cols-2 gap-4 p-4",children:[(0,x.jsx)(g,{}),(0,x.jsx)(D,{}),(0,x.jsx)(C,{})]})})}},9448:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/monitor",function(){return r(6154)}])}},function(e){e.O(0,[774,888,179],(function(){return t=9448,e(e.s=t);var t}));var t=e.O();_N_E=t}]);